
@{
    ViewData["Title"] = "Tareas";
}

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tus Tareas</title>
  <link rel="stylesheet" href="site.css">
  <script src="site.js" defer></script>
</head>
<body>

   <div class="tareas-page ">
    <h1>Tus Tareas</h1>

  <div class="botones-superiores">
    <a href="#" id="abrirAgregar" class="boton">Agregar</a>
    <a href="#" id="mostrarBuscar" class="boton">Buscar</a>
  </div>

  <div id="buscadorContainer" style="display:none;">
    <input type="text" id="buscador" placeholder="Buscar tarea...">
    <ul id="lista"></ul>
  </div>

  <div id="tareasContainer" dispaly="block">
    <a href="#" class="tarea-btn" id="verTareaBtn">
      <span>ğŸ“„ Tarea EFSI</span>
      <span>Finalizado</span>
    </a>
  </div>

  <div id="detalleTarea" hidden>
    <div class="top-bar">
      <a href="#" id="volver" class="boton">â† Volver</a>
      <a href="#" id="abrirEditar" class="boton">Editar</a>
    </div>
    @foreach (var tarea in ViewBag.Tareas ?? new List<Tarea>()) {

        <div class="card">
        <strong>@tarea.Titulo</strong>
        <span>@tarea.Descripcion</span>
       <span>@(tarea.Finalizada ? "Finalizado" : "Pendiente")</span>
        <form action='@Url.Action("BorrarTarea", "Home")' method="post" style="display:inline;">
  
          <input type="hidden" name="idTarea" value="@tarea.ID" />
          <button type="submit">Eliminar</button>
        </form>
    </div>
    }
  </div>

  <div id="editarTarea" hidden>
    <div class="top-bar">
      <a href="#" id="volverDetalle" class="boton">â† Volver</a>
      <h2>Editar Tarea</h2>
    </div>
    <div class="card">
    <form action='@Url.Action("ActualizarTarea", "Home")' method="post">
        <input type="text" name="Titulo" placeholder="TÃ­tulo" required>
        <input type="text" name="Descripcion" placeholder="DescripciÃ³n" required>
        <input type="hidden" name="Duracion" value="0" />
        <input type="hidden" name="IDusuario" value="@ViewBag.IDUsuario" />
        <input type="hidden" name="Finalizada" value="false" />
        <input type="submit" value="Guardar">
    </form>
</div>
  </div>

  <div id="agregarTarea" hidden>
    <div class="top-bar">
      <a href="#" id="volverLista" class="boton">â† Volver</a>
      <h2>Agregar Tarea</h2>
    </div>
    <div class="card">
      <form action='@Url.Action("CrearTarea", "Home")' method="post">
        <label for="tituloAgregar">TÃ­tulo:</label>
        <input type="text" name="Titulo" id="tituloAgregar" required>
        <label for="descripcionAgregar">DescripciÃ³n:</label>
        <textarea name="Descripcion" id="descripcionAgregar"></textarea>
        <input type="hidden" name="Finalizado" value="false" />
        <input type="hidden" name="Duracion" value="0" />
        <input type="hidden" name="IDusuario" value="@ViewBag.IDUsuario" />
        <input type="submit" value="Guardar">
      </form>
    </div>
  </div>
</div>
</body>
</html>
